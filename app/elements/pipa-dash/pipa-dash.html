<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-fontawesome/polymer-fontawesome.html">
<link rel="import" href="../pipa-event/pipa-event.html">

<polymer-element name="pipa-dash" attributes="logo">
  <template>
    <link rel="stylesheet" href="pipa-dash.css">
    <div class="container" vertical layout>
      <header horizontal layout>
        <div>
          <img id="logo" src="{{logo}}"></img>
        </div>
        <div id="title" flex>
          <a>All our code are belong to you</a>
        </div>
        <div id="datetime" layout vertical>
          <div id="time">{{time}}</div>
          <div id="date">{{date}}</div>
        </div>
      </header>
      <main>
        <div horizontal around-justified layout>
            <pipa-event id="events" feedType="events" url="https://www.kiberpipa.org/sl/feeds/dogodki/"></pipa-event>
            <pipa-event id="news" feedType="news" url="https://www.kiberpipa.org/sl/feeds/novice/"></pipa-event>
        </div>
      </main>
      <footer>
        <div class="address">
            http://www.kiberpipa.org
        </div>
      </footer>
    </div>
   </template>

   <script>
    (function () {

      Polymer({
        time: (new Date()).toLocaleTimeString("sl-SI"),
        date: (new Date()).toLocaleDateString("sl-SI"),

        ready: function() {
          var that = this;
          setInterval(function () {
            // that.time = (new Date()).toLocaleTimeString();
            var date = new Date();
            that.time = date.toLocaleTimeString("sl-SI");
            that.date = date.toLocaleDateString("sl-SI");
          }, 1000);
        }

        // define element prototype here
      });

    })();
  </script>
</polymer-element>
